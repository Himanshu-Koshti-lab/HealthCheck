<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Applications</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<h1>
    Application Health
    <span class="health-tag"
          th:classappend="${overallUp} ? ' up' : ' down'"
          th:text="${overallUp} ? 'OVERALL : UP' : 'OVERALL : DOWN'">
        OVERALL: UP
    </span>
    <p>Local Time: <span th:text="${localTime}"></span></p>
    <p>UTC Time: <span th:text="${utcTime}"></span></p>
</h1>

<p class="muted" th:text="'Total: ' + ${#lists.size(apps)}"></p>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Application</th>
        <th>Up Time</th>
        <th>Status</th>
        <th class="actions">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="app : ${apps}">
        <td th:text="${app.id}">1</td>
        <td th:text="${app.applicationName}">Health Check</td>
        <!-- format LocalDateTime -->
        <td th:text="${app.upTime}">01-Aug-2025 14:10:00</td>
        <td>
            <span class="badge"
                  th:classappend="${app.status} ? ' up' : ' down'"
                  th:text="${app.status} ? 'UP' : 'DOWN'">UP</span>
        </td>
        <td class="actions">
            <a th:href="@{'/applications/' + ${app.id}}">View</a>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
